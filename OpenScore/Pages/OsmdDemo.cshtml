@page
@{
    ViewData["Title"] = "OSMD Demo";
}

<h1>OpenSheetMusicDisplay — простий приклад</h1>
<p>Нижче рендериться MusicXML за допомогою OpenSheetMusicDisplay.</p>

<div class="mb-3">
    <button id="openFileBtn" class="btn btn-primary">Відкрити файл (.mxl)</button>
    <input id="fileInput" type="file" accept=".mxl,.musicxml,.xml" style="display:none" />
    <span id="fileName" class="ms-2 text-muted"></span>
</div>

<div class="mb-2">
    <button id="playBtn" class="btn btn-success btn-sm">Play</button>
    <button id="stopBtn" class="btn btn-outline-secondary btn-sm">Stop</button>
    <span class="ms-2 text-muted">Демо-відтворення з підсвіченням долі такту (курсором)</span>
</div>

<!-- Tempo controls -->
<div class="mb-3 d-flex align-items-center">
    <label for="bpmRange" class="form-label mb-0 me-2">Tempo</label>
    <input id="bpmRange" type="range" min="30" max="240" step="1" value="100" style="width: 240px;">
    <input id="bpmBox" type="number" min="30" max="240" step="1" class="form-control form-control-sm ms-2" style="width: 90px;" value="100">
    <span class="ms-1">BPM</span>
</div>

<div id="osmd" data-score-url="@Url.Content("~/lib/opensheetmusicdisplay/demo/BrookeWestSample.musicxml")" style="width:100%; min-height: 60vh; border: 1px solid #ddd; padding: 8px;"></div>

@section Scripts {
    <script src="https://unpkg.com/opensheetmusicdisplay@1.9.2/build/opensheetmusicdisplay.min.js"></script>
    <script src="~/js/osmd.js" asp-append-version="true"></script>
}
